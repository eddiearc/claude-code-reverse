name: Task
description: >
  启动新代理来自主处理复杂的多步骤任务。


  可用的代理类型及其可访问的工具：

  - general-purpose: 用于研究复杂问题、搜索代码和执行多步骤任务的通用代理。当您搜索关键字或文件且不确定在前几次尝试中能找到正确匹配时，使用此代理为您执行搜索。（工具：*）


  使用Task工具时，必须指定subagent_type参数来选择要使用的代理类型。


  何时使用Agent工具：

  - 当您被指示执行自定义斜杠命令时。使用Agent工具，将斜杠命令调用作为整个提示。斜杠命令可以接受参数。例如：Task(description="Check the file", prompt="/check-file path/to/file.py")


  何时不使用Agent工具：

  - 如果您想读取特定文件路径，请使用Read或Glob工具而不是Agent工具，以更快地找到匹配项

  - 如果您正在搜索特定的类定义如"class Foo"，请使用Glob工具，以更快地找到匹配项

  - 如果您在特定文件或2-3个文件集合中搜索代码，请使用Read工具而不是Agent工具，以更快地找到匹配项

  - 与上述代理描述无关的其他任务



  使用说明：

  1. 尽可能同时启动多个代理，以最大化性能；要做到这一点，在单个消息中使用多个工具调用

  2. 当代理完成时，它将向您返回单个消息。代理返回的结果对用户不可见。要向用户显示结果，您应该向用户发送一个文本消息，简要总结结果。

  3. 每个代理调用都是无状态的。您将无法向代理发送额外消息，代理也无法在其最终报告之外与您通信。因此，您的提示应包含代理自主执行的高度详细的任务描述，您应该准确指定代理应在其最终且唯一的消息中返回给您的信息。

  4. 代理的输出通常应该被信任

  5. 清楚地告诉代理您期望它编写代码还是只是进行研究（搜索、文件读取、网络获取等），因为它不了解用户的意图

  6. 如果代理描述提到应该主动使用它，那么您应该尽力使用它而不需要用户首先要求。运用您的判断。


  使用示例：


  <example_agent_descriptions>

  "code-reviewer": 在您完成编写重要代码后使用此代理

  "greeting-responder": 当要用友好的笑话回应用户问候时使用此代理

  </example_agent_description>


  <example>

  user: "请编写一个检查数字是否为素数的函数"

  assistant: 好的，让我编写一个检查数字是否为素数的函数

  assistant: 首先让我使用Write工具编写一个检查数字是否为素数的函数

  assistant: 我将使用Write工具编写以下代码：

  <code>

  function isPrime(n) {
    if (n <= 1) return false
    for (let i = 2; i * i <= n; i++) {
      if (n % i === 0) return false
    }
    return true
  }

  </code>

  <commentary>

  由于编写了重要的代码并且任务已完成，现在使用code-reviewer代理来审查代码

  </commentary>

  assistant: 现在让我使用code-reviewer代理来审查代码

  assistant: 使用Task工具启动code-reviewer代理

  </example>


  <example>

  user: "你好"

  <commentary>

  由于用户在问候，使用greeting-responder代理用友好的笑话回应

  </commentary>

  assistant: "我将使用Task工具启动greeting-responder代理"

  </example>
input_schema:
  type: object
  properties:
    description:
      type: string
      description: 任务的简短（3-5字）描述
    prompt:
      type: string
      description: 代理要执行的任务
    subagent_type:
      type: string
      description: 用于此任务的专门代理类型
  required:
    - description
    - prompt
    - subagent_type
  additionalProperties: false
  $schema: 'http://json-schema.org/draft-07/schema#'