name: MultiEdit
description: >-
  这是一个用于在一次操作中对单个文件进行多次编辑的工具。它基于Edit工具构建，允许您高效地执行多个查找和替换操作。当您需要对同一文件进行多次编辑时，请优先使用此工具而不是Edit工具。


  使用此工具之前：


  1. 使用Read工具了解文件的内容和上下文

  2. 验证目录路径是正确的


  要进行多个文件编辑，请提供以下内容：

  1. file_path：要修改的文件的绝对路径（必须是绝对路径，不是相对路径）

  2. edits：要执行的编辑操作数组，每个编辑包含：
     - old_string：要替换的文本（必须与文件内容完全匹配，包括所有空白和缩进）
     - new_string：要替换old_string的编辑文本
     - replace_all：替换所有old_string的出现。此参数是可选的，默认为false。

  重要：

  - 所有编辑按提供的顺序依次应用

  - 每次编辑都在前一次编辑的结果上操作

  - 所有编辑必须有效才能使操作成功 - 如果任何编辑失败，都不会应用

  - 此工具非常适合需要对同一文件的不同部分进行多次更改的情况

  - 对于Jupyter笔记本（.ipynb文件），请使用NotebookEdit


  关键要求：

  1. 所有编辑都遵循与单个Edit工具相同的要求

  2. 编辑是原子的 - 要么全部成功，要么都不应用

  3. 仔细规划您的编辑，避免顺序操作之间的冲突


  警告：

  - 如果edits.old_string与文件内容不完全匹配（包括空白），工具将失败

  - 如果edits.old_string和edits.new_string相同，工具将失败

  - 由于编辑是按顺序应用的，确保较早的编辑不会影响较晚编辑试图查找的文本


  进行编辑时：

  - 确保所有编辑都产生符合习惯的正确代码

  - 不要让代码处于损坏状态

  - 始终使用绝对文件路径（以/开头）

  - 只有在用户明确要求时才使用表情符号。避免向文件添加表情符号，除非被要求。

  - 使用replace_all在文件中替换和重命名字符串。此参数在您想要重命名变量时很有用。


  如果要创建新文件，请使用：

  - 新文件路径，如果需要包括目录名

  - 第一次编辑：空的old_string和新文件内容作为new_string

  - 后续编辑：对创建内容的正常编辑操作
input_schema:
  type: object
  properties:
    file_path:
      type: string
      description: 要修改的文件的绝对路径
    edits:
      type: array
      items:
        type: object
        properties:
          old_string:
            type: string
            description: 要替换的文本
          new_string:
            type: string
            description: 要替换的文本
          replace_all:
            type: boolean
            default: false
            description: 替换所有old_string的出现（默认false）。
        required:
          - old_string
          - new_string
        additionalProperties: false
      minItems: 1
      description: 要在文件上顺序执行的编辑操作数组
  required:
    - file_path
    - edits
  additionalProperties: false
  $schema: http://json-schema.org/draft-07/schema#